<!doctype html>
<html lang="id">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Untukmu — Khusus</title>
  <style>
    /* Reset */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
      background: radial-gradient(circle at 10% 10%, #ffe6f0 0%, #fff 20%, #ffeef8 40%, #fff5f9 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      color: #222;
    }

    .card {
      width: 100%;
      max-width: 420px;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.95));
      border-radius: 18px;
      box-shadow: 0 12px 30px rgba(12, 12, 30, 0.12);
      border: 1px solid rgba(0, 0, 0, 0.04);
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      text-align: center;
    }

    .logo {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .logo .dot {
      width: 42px;
      height: 42px;
      border-radius: 10px;
      background: linear-gradient(135deg, #ff7aa2, #ffb3d9);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 20px;
    }

    h1 {
      font-size: 22px;
      margin-bottom: 6px;
    }

    p.lead {
      font-size: 15px;
      color: #444;
      margin-bottom: 12px;
    }

    .typewriter {
      font-size: 17px;
      line-height: 1.5;
      color: #333;
      min-height: 3em;
    }

    .controls {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 12px;
    }

    .btn {
      padding: 10px 14px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      font-size: 15px;
    }

    .btn-primary {
      background: linear-gradient(90deg, #ff7aa2, #ff5c96);
      color: white;
    }

    .btn-ghost {
      background: transparent;
      border: 1px solid rgba(0, 0, 0, 0.07);
    }

    .reveal {
      margin-top: 12px;
      padding: 12px;
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.8));
      border: 1px dashed rgba(255, 90, 140, 0.12);
      font-size: 14px;
      text-align: left;
    }

    .heart {
      margin: 14px auto;
      width: 120px;
      height: 120px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      cursor: pointer;
      position: relative;
    }

    .heart svg {
      width: 70px;
      height: 70px;
      transition: transform .18s ease;
    }

    .hint {
      font-size: 12px;
      color: #6b6b6b;
    }

    .customize {
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .customize input {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid rgba(0, 0, 0, 0.06);
      font-size: 14px;
    }

    footer {
      font-size: 12px;
      color: #666;
      margin-top: 10px;
    }

    /* confetti */
    canvas.confetti {
      position: fixed;
      left: 0;
      top: 0;
      pointer-events: none;
      width: 100%;
      height: 100%;
      z-index: 9999;
    }

    /* pulse animation */
    .pulse {
      animation: pulse 1s linear;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.08);
      }

      100% {
        transform: scale(1);
      }
    }

    .floating-heart {
      position: absolute;
      opacity: 0;
      pointer-events: none;
      transform: translateY(0) scale(0.7);
      transition: transform 900ms, opacity 900ms;
    }
  </style>
</head>

<body>
  <div class="card">
    <div class="logo">
      <div class="dot">K</div>
      <div>
        <strong>Untukmu</strong>
        <div style="font-size:11px;color:#6b6b6b">Buat dedikasimu</div>
      </div>
    </div>

    <h1 id="title">Halo, sayang...</h1>
    <p class="lead">Sebuah laman kecil ini kubuat khusus untukmu. Klik hati di bawah atau ketik namamu untuk lihat pesan.</p>

    <div class="typewriter" id="typewriter">Klik hati 💖 atau tekan "Kirim" untuk membuka pesan.</div>

    <div class="heart" id="heartBtn" title="Klik untuk membuka pesan">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"
        stroke-linejoin="round">
        <path
          d="M20.8 4.6a5.5 5.5 0 0 0-7.8 0L12 5.6l-1-1a5.5 5.5 0 0 0-7.8 7.8l1 1L12 22l7.8-7.6 1-1a5.5 5.5 0 0 0 0-7.8z"
          fill="#ff6f98" stroke="none"></path>
      </svg>
    </div>
    <div class="hint">Sentuh atau klik hati — biar aku bilang sesuatu manis.</div>

    <div class="controls">
      <button class="btn btn-primary" id="revealBtn">Kirim Pesan</button>
      <button class="btn btn-ghost" id="downloadBtn">Simpan Halaman</button>
    </div>

    <div class="reveal" id="messageBox" style="display:none">
      <strong>Pesan khusus:</strong>
      <p id="finalMessage" style="margin-top:6px">Aku suka cara kamu membuat hariku lebih berwarna. Mau jadi bagian dari cerita hidupku?</p>
    </div>

    <div class="customize">
      <input id="nameInput" placeholder="Masukkan nama kamu" />
      <input id="lineInput" placeholder="Tambahkan 1 kalimat singkat" />
    </div>
  </div>

  <canvas class="confetti" id="confettiCanvas"></canvas>

  <script>
    // (JS tetap sama seperti punyamu, hanya hapus tombol musik biar simple)
    const defaultLines = [
      "Waktu pertama kali kita bertemu, aku langsung tahu ada yang istimewa.",
      "Setiap senyummu bikin siangku lebih terang, malamku lebih hangat.",
      "Mau terus bareng kamu, dari cerita kecil sampai mimpi besar.",
      "Maukah kamu jadi alasan aku tersenyum setiap hari? 💖"
    ];

    const nameInput = document.getElementById('nameInput');
    const lineInput = document.getElementById('lineInput');
    const typeEl = document.getElementById('typewriter');
    const heartBtn = document.getElementById('heartBtn');
    const revealBtn = document.getElementById('revealBtn');
    const messageBox = document.getElementById('messageBox');
    const finalMessage = document.getElementById('finalMessage');
    const downloadBtn = document.getElementById('downloadBtn');

    function typeLines(lines, el, speed = 40) {
      el.innerHTML = '';
      let i = 0;
      function nextLine() {
        if (i >= lines.length) return;
        const line = lines[i++];
        let j = 0;
        const p = document.createElement('div');
        el.appendChild(p);
        const t = setInterval(() => {
          p.textContent = line.slice(0, j + 1);
          j++;
          if (j >= line.length) {
            clearInterval(t);
            setTimeout(nextLine, 400);
          }
        }, speed);
      }
      nextLine();
    }

    function reveal() {
      const name = nameInput.value.trim();
      const extra = lineInput.value.trim();
      const lines = defaultLines.slice();
      if (name) lines.unshift(`Untuk ${name},`);
      if (extra) lines.push(extra);
      typeLines(lines, typeEl, 35);
      messageBox.style.display = 'block';
      finalMessage.textContent = (name ? `${name}, ` : '') + 'Aku suka cara kamu membuat hariku lebih berwarna. Kalau kamu mau, ayo kita buat banyak cerita bersama.';
      popHearts();
      runConfetti();
      pulseHeart();
    }

    heartBtn.addEventListener('click', reveal);
    revealBtn.addEventListener('click', reveal);

    function runConfetti() {
      const canvas = document.getElementById('confettiCanvas');
      const ctx = canvas.getContext('2d');
      canvas.width = innerWidth; canvas.height = innerHeight;
      const pieces = [];
      for (let i = 0; i < 60; i++) {
        pieces.push({ x: Math.random() * canvas.width, y: Math.random() * -canvas.height * 0.6, r: Math.random() * 6 + 4, d: Math.random() * 40 + 15, s: (Math.random() * 2) + 0.5, a: Math.random() * 360 });
      }
      let frames = 0;
      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (const p of pieces) {
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate((p.a + frames * p.s) / 180 * Math.PI);
          ctx.fillStyle = ['#ff6f98', '#ffd1e6', '#ffb3d9', '#fff1f7'][Math.floor(Math.random() * 4)];
          ctx.fillRect(-p.r / 2, -p.r / 2, p.r, p.r * 1.6);
          ctx.restore();
          p.y += p.s + Math.sin(frames / 15 + p.d) * 0.5;
          if (p.y > canvas.height + 20) { p.y = -20; p.x = Math.random() * canvas.width }
        }
        frames++;
        if (frames < 260) requestAnimationFrame(draw);
        else ctx.clearRect(0, 0, canvas.width, canvas.height);
      }
      draw();
    }

    function popHearts() {
      for (let i = 0; i < 10; i++) {
        const h = document.createElement('div');
        h.className = 'floating-heart';
        h.style.left = (50 + (Math.random() * 80 - 40)) + 'px';
        h.style.top = (50 + (Math.random() * 80 - 40)) + 'px';
        h.style.opacity = 1;
        h.innerHTML = '❤';
        h.style.fontSize = (12 + Math.random() * 18) + 'px';
        document.body.appendChild(h);
        setTimeout(() => { h.style.transform = 'translateY(-120px) scale(1)'; h.style.opacity = 0; }, 20);
        setTimeout(() => { h.remove() }, 1200);
      }
    }

    function pulseHeart() {
      const svg = heartBtn.querySelector('svg');
      svg.classList.add('pulse');
      setTimeout(() => svg.classList.remove('pulse'), 600);
    }

    downloadBtn.addEventListener('click', () => {
      const blob = new Blob([document.documentElement.outerHTML], { type: 'text/html' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'untukmu.html';
      document.body.appendChild(a); a.click(); a.remove();
      URL.revokeObjectURL(url);
    });

    [nameInput, lineInput].forEach(inp => inp.addEventListener('keydown', (e) => { if (e.key === 'Enter') { reveal(); } }));
  </script>
</body>

</html>
